{"version":3,"sources":["../../../src/hooks/useNotifyRef.ts","../../../src/components/LinkWrapper.tsx","../../../src/components/LinksLayer.tsx","../../../src/hooks/useRootStore.ts","../../../../src/hooks/userInteractions/useDragHandlers.ts","../../../../src/hooks/userInteractions/useUserAbilityToSelectSwitcher.ts","../../../../src/hooks/userInteractions/useNodeUserInteraction.ts","../../../src/components/NodeWrapper.tsx","../../../src/components/NodesLayer.tsx","../../src/utils.ts","../../../../src/hooks/userInteractions/useDiagramUserInteraction.ts","../../../../src/hooks/userInteractions/usePinchHandlers.ts","../../../../src/hooks/userInteractions/useWheelHandler.ts","../../../src/components/DiagramInner.tsx","../../../src/states/diagramApi.ts","../../../src/states/diagramState.ts","../../../src/components/LinkDefault.tsx","../../../src/types/common.ts","../../../src/states/visualComponents.ts","../../../src/linkConstructors/curved.ts","../../../src/states/linksSettingsState.ts","../../../src/states/linkState.ts","../../../src/states/linksStore.ts","../../../src/components/NodeDefault.tsx","../../../src/states/nodesSettingsState.ts","../../../src/states/portState.ts","../../../src/states/nodeState.ts","../../../src/states/nodesStore.ts","../../../src/states/rootStore.ts","../../../src/components/Diagram.tsx","../../../src/states/common.ts","ControlPanel.tsx","App.tsx","../../../src/hooks/useDiagram.tsx","index.tsx"],"names":["this","Object","defineProperty","useStyles","makeStyles","form","display","flexDirection","gap","visibilityBtn","borderRadius","minWidth","padding","backgroundColor","header","marginBottom","alignItems","ControlPanel","props","classes","useState","row","setRow","col","setCol","visible","setVisible","Box","clone","Card","className","Button","variant","aria-label","onClick","Tune","Typography","noValidate","autoComplete","onSubmit","e","preventDefault","reinitState","newState","colNum","rowNum","nodes","links","getNodeId","i","j","push","id","position","source","nodeId","target","generateLargeDiagram","TextField","value","type","label","onChange","parseInt","diagram","height","width","backgroundImage","controlPanel","top","left","App","useDiagram","initState","components","default","createLinkDefault","attention","color","pathConstructor","createCurvedLinkPathConstructor","Diagram","apiRef","current","componentType","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eb920dba.chunk.js","sourcesContent":["import { useState } from 'react';\r\nexport var useNotifyRef = function (init) {\r\n    var _a = useState(0), _ = _a[0], forceUpdate = _a[1];\r\n    var ref = useState(function () { return ({\r\n        value: init,\r\n        facade: {\r\n            get current() {\r\n                return ref.value;\r\n            },\r\n            set current(value) {\r\n                var last = ref.value;\r\n                if (last !== value) {\r\n                    ref.value = value;\r\n                    forceUpdate(function (i) { return i + 1; });\r\n                }\r\n            },\r\n        },\r\n    }); })[0];\r\n    return ref.facade;\r\n};\r\n//# sourceMappingURL=useNotifyRef.js.map","import { observer } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport { useNotifyRef } from '../hooks/useNotifyRef';\r\nexport var LinkWrapper = observer(function (_a) {\r\n    var link = _a.link;\r\n    var draggableRef = useNotifyRef(null);\r\n    var Component = link.componentDefinition.component;\r\n    return (React.createElement(\"g\", null,\r\n        React.createElement(Component, { draggableRef: draggableRef, path: link.path, entity: link, settings: link.componentDefinition.settings })));\r\n});\r\n//# sourceMappingURL=LinkWrapper.js.map","import { observer } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport { LinkWrapper } from './LinkWrapper';\r\nexport var LinksLayer = observer(function (_a) {\r\n    var linksStore = _a.linksStore;\r\n    return (React.createElement(\"svg\", null, Object.values(linksStore.links).map(function (link) { return (React.createElement(LinkWrapper, { key: link.id, link: link })); })));\r\n});\r\n//# sourceMappingURL=LinksLayer.js.map","import { useContext } from \"react\";\r\nimport { RootStoreContext } from \"../components/Diagram\";\r\nexport var useRootStore = function () { return useContext(RootStoreContext); };\r\n//# sourceMappingURL=useRootStore.js.map","import { useMemo } from 'react';\r\nexport function useDragHandlers(activeRef, state, parentScaleGetter, cancel) {\r\n    var handlers = useMemo(function () { return ({\r\n        onDrag: function (_a) {\r\n            var pinching = _a.pinching, delta = _a.delta;\r\n            if (!activeRef.current || pinching) {\r\n                return;\r\n            }\r\n            var parentScale = parentScaleGetter ? parentScaleGetter() : 1;\r\n            state.setOffset([\r\n                state.offset[0] + delta[0] / parentScale,\r\n                state.offset[1] + delta[1] / parentScale,\r\n            ]);\r\n        },\r\n        onDragStart: function (_a) {\r\n            var event = _a.event;\r\n            if (cancel && cancel(event)) {\r\n                return;\r\n            }\r\n            activeRef.current = true;\r\n        },\r\n        onDragEnd: function () { return (activeRef.current = false); },\r\n    }); }, [activeRef, state, parentScaleGetter, cancel]);\r\n    return handlers;\r\n}\r\n//# sourceMappingURL=useDragHandlers.js.map","import { useEffect } from \"react\";\r\nexport var DISABLED_USER_SELECT_CSS_CLASS = 'react_fast_diagram_disabled_user_select';\r\nexport function useUserAbilityToSelectSwitcher(active, elementToSwitchUserSelectOn) {\r\n    useEffect(function () {\r\n        if (!active || !elementToSwitchUserSelectOn) {\r\n            return;\r\n        }\r\n        if (elementToSwitchUserSelectOn.classList.contains(DISABLED_USER_SELECT_CSS_CLASS)) {\r\n            return;\r\n        }\r\n        elementToSwitchUserSelectOn.classList.add(DISABLED_USER_SELECT_CSS_CLASS);\r\n        return function () {\r\n            elementToSwitchUserSelectOn.classList.remove(DISABLED_USER_SELECT_CSS_CLASS);\r\n        };\r\n    }, [active, elementToSwitchUserSelectOn]);\r\n}\r\n//# sourceMappingURL=useUserAbilityToSelectSwitcher.js.map","import { useRef } from 'react';\r\nimport { useGesture } from 'react-use-gesture';\r\nimport { useNotifyRef } from '../useNotifyRef';\r\nimport { useRootStore } from '../useRootStore';\r\nimport { useDragHandlers } from './useDragHandlers';\r\nimport { useUserAbilityToSelectSwitcher } from './useUserAbilityToSelectSwitcher';\r\nexport var useNodeUserInteraction = function (nodeState, enable) {\r\n    var _a, _b;\r\n    var diagramStore = useRootStore().diagramState;\r\n    // Should trigger rendering on change, otherwise useUserSelectSwitcher will not be invoked\r\n    var activeRef = useNotifyRef(false);\r\n    var userInteractionElemRef = useRef(null);\r\n    var dragHandlers = useDragHandlers(activeRef, nodeState, function () { return diagramStore.zoom; });\r\n    useGesture(dragHandlers, {\r\n        domTarget: userInteractionElemRef,\r\n        eventOptions: { passive: false },\r\n        enabled: enable,\r\n    });\r\n    useUserAbilityToSelectSwitcher(activeRef.current, (_b = (_a = userInteractionElemRef.current) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.body);\r\n    return {\r\n        active: activeRef.current,\r\n        userInteractionElemRef: userInteractionElemRef,\r\n    };\r\n};\r\n//# sourceMappingURL=useNodeUserInteraction.js.map","import React from 'react';\r\nimport { useNodeUserInteraction } from '../hooks/userInteractions/useNodeUserInteraction';\r\nimport { observer } from 'mobx-react-lite';\r\nexport var NodeWrapper = observer(function (_a) {\r\n    var node = _a.node;\r\n    var userInteractionElemRef = useNodeUserInteraction(node).userInteractionElemRef;\r\n    return (React.createElement(\"div\", { id: node.id, className: 'react_fast_diagram_NodeWrapper', style: {\r\n            transform: node.transformString,\r\n        }, ref: node.ref },\r\n        React.createElement(node.componentDefinition.component, { draggableRef: userInteractionElemRef, entity: node, settings: node.componentDefinition.settings })));\r\n});\r\n//# sourceMappingURL=NodeWrapper.js.map","import { observer } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport { NodeWrapper } from './NodeWrapper';\r\nexport var NodesLayer = observer(function (_a) {\r\n    var nodesStore = _a.nodesStore;\r\n    return (React.createElement(\"div\", null, Object.values(nodesStore.nodes).map(function (node) { return (React.createElement(NodeWrapper, { key: node.id, node: node })); })));\r\n});\r\n//# sourceMappingURL=NodesLayer.js.map","export var generateTransform = function (translate, scale) {\r\n    var translatePart = \"translate(\" + translate[0] + \"px, \" + translate[1] + \"px)\";\r\n    if (scale) {\r\n        var scalePart = \"scale(\" + scale + \")\";\r\n        return translatePart + ' ' + scalePart;\r\n    }\r\n    else {\r\n        return translatePart;\r\n    }\r\n};\r\nvar MIN_SCALE = 0.1;\r\nvar MAX_SCALE = 2;\r\n// See: https://stackoverflow.com/a/30039971/9142642\r\nexport var computeTransformationOnScale = function (target, midpoint, translate, scale, factor) {\r\n    factor = clampFactorForTransformation(factor, scale);\r\n    // The upper left corner of the target stays in the same place while the picture is enlarged\r\n    var rect = target.getBoundingClientRect();\r\n    // Get mouse position related to target\r\n    var mouseXPos = midpoint[0] - rect.left;\r\n    var mouseYPos = midpoint[1] - rect.top;\r\n    // Now consider the point under the mouse cursor. Every pixel above and to the\r\n    // left of the cursor has become *factor* larger. This displaces the point under the\r\n    // cursor by *factor* downward and to the right. Meanwhile, the cursor is in the same position.\r\n    // Note that the target might have been moved in the canvas before the zooming operation, so the\r\n    // cursor's horizontal position in the target is mouseXPos - transformation.translation.x before zooming,\r\n    // and likewise for the vertical position.\r\n    var dx = (mouseXPos - translate[0]) * (factor - 1);\r\n    var dy = (mouseYPos - translate[1]) * (factor - 1);\r\n    return {\r\n        scale: clampValue(scale * factor, MIN_SCALE, MAX_SCALE),\r\n        position: [\r\n            // Compensate for the displacement by moving the point back under the cursor\r\n            translate[0] - dx,\r\n            translate[1] - dy,\r\n        ],\r\n    };\r\n};\r\nfunction clampFactorForTransformation(factor, currentScale) {\r\n    if (currentScale * factor < MIN_SCALE) {\r\n        return MIN_SCALE / currentScale;\r\n    }\r\n    else if (currentScale * factor > MAX_SCALE) {\r\n        return MAX_SCALE / currentScale;\r\n    }\r\n    else\r\n        return factor;\r\n}\r\nexport var roundPoint = function (point) { return ([\r\n    Math.round(point[0]),\r\n    Math.round(point[1]),\r\n]); };\r\nexport var addPoints = function (a, b) { return ([\r\n    a[0] + b[0],\r\n    a[1] + b[1],\r\n]); };\r\nexport var subtractPoints = function (a, b) { return ([\r\n    a[0] - b[0],\r\n    a[1] - b[1],\r\n]); };\r\nexport var multiplyPoint = function (a, m) { return ([\r\n    a[0] * m,\r\n    a[1] * m,\r\n]); };\r\nexport var arePointsEqual = function (a, b) {\r\n    return a === b || (a && b && a[0] === b[0] && a[1] === b[1]);\r\n};\r\nexport var areTranformationsEqual = function (a, b) {\r\n    return a === b ||\r\n        (a && b && a.scale === b.scale && arePointsEqual(a.position, b.position));\r\n};\r\nexport function clampValue(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n//# sourceMappingURL=utils.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { useCallback, useRef } from 'react';\r\nimport { useGesture } from 'react-use-gesture';\r\nimport { useNotifyRef } from '../useNotifyRef';\r\nimport { useRootStore } from '../useRootStore';\r\nimport { useDragHandlers } from './useDragHandlers';\r\nimport { usePinchHandlers } from './usePinchHandlers';\r\nimport { useUserAbilityToSelectSwitcher } from './useUserAbilityToSelectSwitcher';\r\nimport { useWheelHandler } from './useWheelHandler';\r\nexport var useDiagramUserInteraction = function (enable) {\r\n    var _a, _b;\r\n    var diagramStore = useRootStore().diagramState;\r\n    var activeRef = useNotifyRef(false);\r\n    var userInteractionElemRef = useRef(null);\r\n    var cancelGesture = useCallback(function (event) { return event.target !== userInteractionElemRef.current; }, [userInteractionElemRef]);\r\n    var dragHandlers = useDragHandlers(activeRef, diagramStore, undefined, cancelGesture);\r\n    var pinchHandlers = usePinchHandlers(userInteractionElemRef, activeRef, diagramStore, cancelGesture);\r\n    var wheelHandler = useWheelHandler(userInteractionElemRef, activeRef, diagramStore);\r\n    useGesture(__assign(__assign(__assign({}, dragHandlers), pinchHandlers), wheelHandler), {\r\n        domTarget: userInteractionElemRef,\r\n        eventOptions: { passive: false },\r\n        enabled: enable,\r\n    });\r\n    useUserAbilityToSelectSwitcher(activeRef.current, (_b = (_a = userInteractionElemRef.current) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.body);\r\n    return {\r\n        userInteractionElemRef: userInteractionElemRef,\r\n        transform: diagramStore.transformString,\r\n        active: activeRef.current,\r\n    };\r\n};\r\n//# sourceMappingURL=useDiagramUserInteraction.js.map","import { useMemo, useRef } from 'react';\r\nimport { addPoints, computeTransformationOnScale, subtractPoints, } from '../../utils';\r\nexport function usePinchHandlers(elemToAttachToRef, activeRef, state, cancel) {\r\n    var pinchState = useRef({\r\n        distance: 0,\r\n        origin: [0, 0],\r\n    });\r\n    var handlers = useMemo(function () { return ({\r\n        onPinch: function (_a) {\r\n            var distance = _a.da[0], origin = _a.origin;\r\n            if (!activeRef.current || !elemToAttachToRef.current) {\r\n                return;\r\n            }\r\n            var originDiff = subtractPoints(origin, pinchState.current.origin);\r\n            var diff = distance - pinchState.current.distance;\r\n            var elWidth = elemToAttachToRef.current.clientWidth * state.zoom;\r\n            var targetElWidth = elWidth + diff;\r\n            var factor = targetElWidth / elWidth;\r\n            var scaleTransformation = computeTransformationOnScale(elemToAttachToRef.current, origin, addPoints(state.offset, originDiff), state.zoom, factor);\r\n            pinchState.current = {\r\n                distance: distance,\r\n                origin: origin,\r\n            };\r\n            state.setTransformation(scaleTransformation.position, scaleTransformation.scale);\r\n        },\r\n        onPinchStart: function (_a) {\r\n            var distance = _a.da[0], origin = _a.origin, event = _a.event;\r\n            if (cancel && cancel(event)) {\r\n                return;\r\n            }\r\n            pinchState.current = {\r\n                distance: distance,\r\n                origin: origin,\r\n            };\r\n            activeRef.current = true;\r\n        },\r\n        onPinchEnd: function () { return (activeRef.current = false); },\r\n    }); }, [elemToAttachToRef, activeRef, state, cancel]);\r\n    return handlers;\r\n}\r\n//# sourceMappingURL=usePinchHandlers.js.map","import { useMemo } from 'react';\r\nimport { computeTransformationOnScale } from '../../utils';\r\nexport function useWheelHandler(elemToAttachToRef, activeRef, state) {\r\n    var handlers = useMemo(function () { return ({\r\n        onWheel: function (_a) {\r\n            var _b = _a.direction, _ = _b[0], yDirection = _b[1], _c = _a.event, clientX = _c.clientX, clientY = _c.clientY;\r\n            if (elemToAttachToRef.current) {\r\n                var factor = 0.9;\r\n                if (yDirection < 0) {\r\n                    factor = 1 / factor;\r\n                }\r\n                var newTransformation = computeTransformationOnScale(elemToAttachToRef.current, [clientX, clientY], state.offset, state.zoom, factor);\r\n                state.setTransformation(newTransformation.position, newTransformation.scale);\r\n            }\r\n        },\r\n    }); }, [elemToAttachToRef, activeRef, state]);\r\n    return handlers;\r\n}\r\n//# sourceMappingURL=useWheelHandler.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport React from 'react';\r\nimport { LinksLayer } from './LinksLayer';\r\nimport { NodesLayer } from './NodesLayer';\r\nimport { useDiagramUserInteraction } from '../hooks/userInteractions/useDiagramUserInteraction';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { useRootStore } from '../hooks/useRootStore';\r\nexport var InnerDiagram = observer(function (props) {\r\n    var rootStore = useRootStore();\r\n    var _a = useDiagramUserInteraction(), transform = _a.transform, userInteractionElemRef = _a.userInteractionElemRef;\r\n    return (React.createElement(\"div\", { ref: userInteractionElemRef, style: __assign({ touchAction: 'none' }, props.diagramStyles), className: 'react_fast_diagram_DiagramInner' },\r\n        React.createElement(\"div\", { className: 'react_fast_diagram_DiagramInner_DraggablePart', style: {\r\n                transform: transform,\r\n            } },\r\n            React.createElement(LinksLayer, { linksStore: rootStore.linksStore }),\r\n            React.createElement(NodesLayer, { nodesStore: rootStore.nodesStore }))));\r\n});\r\nInnerDiagram.displayName = 'InnerDiagram';\r\n//# sourceMappingURL=DiagramInner.js.map","var DiagramApi = /** @class */ (function () {\r\n    function DiagramApi(rootStore) {\r\n        var _this = this;\r\n        this.addNode = function (node) {\r\n            _this.rootStore.nodesStore.addNode(node);\r\n        };\r\n        this.reinitState = function (nodes, links) {\r\n            _this.rootStore.nodesStore.fromJson(nodes);\r\n            _this.rootStore.linksStore.fromJson(links);\r\n        };\r\n        this.reinitSettings = function (settings) {\r\n            settings.nodes && _this.rootStore.nodesSettings.fromJson(settings.nodes);\r\n            settings.links && _this.rootStore.linksSettings.fromJson(settings.links);\r\n        };\r\n        this.rootStore = rootStore;\r\n    }\r\n    return DiagramApi;\r\n}());\r\nexport { DiagramApi };\r\n//# sourceMappingURL=diagramApi.js.map","import { makeAutoObservable } from 'mobx';\r\nimport { generateTransform } from '../utils';\r\nvar DiagramState = /** @class */ (function () {\r\n    function DiagramState(rootStore) {\r\n        var _this = this;\r\n        this.offset = [0, 0];\r\n        this.zoom = 1;\r\n        this.setOffset = function (newOffset) {\r\n            _this.offset = newOffset;\r\n        };\r\n        this.setTransformation = function (newOffset, newZoom) {\r\n            _this.offset = newOffset;\r\n            _this.zoom = newZoom;\r\n        };\r\n        makeAutoObservable(this);\r\n        this.rootStore = rootStore;\r\n    }\r\n    Object.defineProperty(DiagramState.prototype, \"transformString\", {\r\n        get: function () {\r\n            return generateTransform(this.offset, this.zoom);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return DiagramState;\r\n}());\r\nexport { DiagramState };\r\n//# sourceMappingURL=diagramState.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport React from 'react';\r\nexport var LinkDefault = function (props) {\r\n    var _a;\r\n    var settings = (_a = props.settings) !== null && _a !== void 0 ? _a : linkDefaultSettings;\r\n    return (React.createElement(\"path\", { ref: props.draggableRef, d: props.path, stroke: settings.color, strokeWidth: settings.strokeWidth, fill: 'none' }));\r\n};\r\nvar linkDefaultSettings = {\r\n    color: 'LightBlue',\r\n    strokeWidth: 3,\r\n};\r\nexport function createLinkDefault(settings) {\r\n    var finaleSettings = __assign(__assign({}, linkDefaultSettings), (settings ? settings : {}));\r\n    return {\r\n        component: LinkDefault,\r\n        settings: finaleSettings,\r\n    };\r\n}\r\n// <g>\r\n//       {/* Main line */}\r\n//       <path d={points} stroke={linkColor} strokeWidth=\"3\" fill=\"none\" />\r\n//       {/* Thick line to make selection easier */}\r\n//       <path\r\n//         d={points}\r\n//         stroke={linkColor}\r\n//         strokeWidth=\"20\"\r\n//         fill=\"none\"\r\n//         strokeLinecap=\"round\"\r\n//         strokeOpacity={isHovered || isSelected ? 0.1 : 0}\r\n//         onMouseEnter={() => onLinkMouseEnter({ config, linkId: link.id })}\r\n//         onMouseLeave={() => onLinkMouseLeave({ config, linkId: link.id })}\r\n//         onClick={(e) => {\r\n//           onLinkClick({ config, linkId: link.id })\r\n//           e.stopPropagation()\r\n//         }}\r\n//       />\r\n//     </g>\r\n//# sourceMappingURL=LinkDefault.js.map","export var componentDefaultType = 'default';\r\n//# sourceMappingURL=common.js.map","import { makeAutoObservable } from 'mobx';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { componentDefaultType } from '../types/common';\r\nvar VisualComponents = /** @class */ (function () {\r\n    function VisualComponents(defaultComponent) {\r\n        var _this = this;\r\n        this.defaultType = componentDefaultType;\r\n        this.fromJson = function (obj) {\r\n            var _a;\r\n            _this.defaultType = (_a = obj.defaultNodeType) !== null && _a !== void 0 ? _a : componentDefaultType;\r\n            _this.initDefaultComponents();\r\n            Object.entries(obj.components).forEach(function (_a) {\r\n                var key = _a[0], value = _a[1];\r\n                if ('component' in value) {\r\n                    _this.components[key] = {\r\n                        component: observer(value.component),\r\n                        settings: value.settings,\r\n                    };\r\n                }\r\n                else {\r\n                    _this.components[key] = {\r\n                        component: observer(value),\r\n                    };\r\n                }\r\n            });\r\n        };\r\n        this.getComponent = function (type) {\r\n            var _a;\r\n            var finalComponentType = type !== null && type !== void 0 ? type : _this.defaultType;\r\n            return (_a = _this.components[finalComponentType]) !== null && _a !== void 0 ? _a : _this.components[_this.defaultType];\r\n        };\r\n        this.defaultComponent = defaultComponent;\r\n        this.initDefaultComponents();\r\n        makeAutoObservable(this);\r\n    }\r\n    VisualComponents.prototype.initDefaultComponents = function () {\r\n        var _a;\r\n        this.components = (_a = {},\r\n            _a[componentDefaultType] = { component: observer(this.defaultComponent) },\r\n            _a);\r\n    };\r\n    return VisualComponents;\r\n}());\r\nexport { VisualComponents };\r\n//# sourceMappingURL=visualComponents.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { roundPoint } from '../utils';\r\nfunction curvedLinkPathConstructorInner(source, target, settings) {\r\n    var path = generateCurvePath(source, target);\r\n    return path;\r\n}\r\nvar defualtSettings = {};\r\nexport function createCurvedLinkPathConstructor(settings) {\r\n    return function (source, target) {\r\n        return curvedLinkPathConstructorInner(source, target, settings ? __assign(__assign({}, defualtSettings), settings) : defualtSettings);\r\n    };\r\n}\r\nvar CURVE_FACTOR = 60;\r\n/**\r\n * Calculates the offset accordingly to the alignment\r\n */\r\n// const getXOffset = (alignment) => {\r\n//   if (!alignment || (alignment !== 'left' && alignment !== 'right')) return 0;\r\n//   return alignment === 'left' ? -CURVE_FACTOR : CURVE_FACTOR;\r\n// };\r\n// const getYOffset = (alignment) => {\r\n//   if (!alignment || (alignment !== 'top' && alignment !== 'bottom')) return 0;\r\n//   return alignment === 'top' ? CURVE_FACTOR : -CURVE_FACTOR;\r\n// };\r\n/**\r\n * Given a source point and an output point produces the SVG path between them\r\n */\r\nvar generateCurvePath = function (startPoint, endPoint) {\r\n    if (!startPoint || !endPoint)\r\n        return '';\r\n    var roundedStart = roundPoint(startPoint);\r\n    var roundedEnd = roundPoint(endPoint);\r\n    var start = roundedStart[0] + \", \" + roundedStart[1];\r\n    var end = roundedEnd[0] + \", \" + roundedEnd[1];\r\n    // if (options.type === 'bezier' && (options.inputAlignment || options.outputAlignment)) {\r\n    //   let startControl = end;\r\n    //   let endControl = start;\r\n    //   if (options.inputAlignment) {\r\n    //     const offsetX = roundedStart.x + getXOffset(options.inputAlignment);\r\n    //     const offsetY = roundedStart.y + getYOffset(options.inputAlignment);\r\n    //     endControl = `${offsetX}, ${offsetY}`;\r\n    //   }\r\n    //   if (options.outputAlignment) {\r\n    //     const offsetX = roundedEnd.x + getXOffset(options.outputAlignment);\r\n    //     const offsetY = roundedEnd.y + getYOffset(options.outputAlignment);\r\n    //     startControl = `${offsetX}, ${offsetY}`;\r\n    //   }\r\n    //   return `M ${start} C ${endControl} ${startControl}, ${end}`;\r\n    // }\r\n    // connecting with a standard curve without any alignment\r\n    var ctrl = roundedEnd[0] + \", \" + roundedStart[1];\r\n    return \"M \" + start + \" Q \" + ctrl + \", \" + end;\r\n};\r\n//# sourceMappingURL=curved.js.map","import { LinkDefault } from '../components/LinkDefault';\r\nimport { VisualComponents, } from './visualComponents';\r\nimport { makeAutoObservable } from 'mobx';\r\nimport { createCurvedLinkPathConstructor } from '../linkConstructors/curved';\r\nvar LinksSettings = /** @class */ (function () {\r\n    function LinksSettings() {\r\n        var _this = this;\r\n        this.pathConstructor = createCurvedLinkPathConstructor();\r\n        this.visualComponents = new VisualComponents(LinkDefault);\r\n        this.fromJson = function (obj) {\r\n            _this.visualComponents.fromJson(obj);\r\n            _this.pathConstructor = obj.pathConstructor;\r\n        };\r\n        makeAutoObservable(this);\r\n    }\r\n    return LinksSettings;\r\n}());\r\nexport { LinksSettings };\r\n//# sourceMappingURL=linksSettingsState.js.map","import { makeAutoObservable } from 'mobx';\r\nimport { componentDefaultType } from '../types/common';\r\nimport { v4 } from 'uuid';\r\nvar LinkState = /** @class */ (function () {\r\n    function LinkState(rootStore, id) {\r\n        var _this = this;\r\n        if (id === void 0) { id = v4(); }\r\n        this.componentType = componentDefaultType;\r\n        this.fromJson = function (obj) {\r\n            var _a;\r\n            _this.componentType = (_a = obj.componentType) !== null && _a !== void 0 ? _a : componentDefaultType;\r\n            _this.source = obj.source;\r\n            _this.target = obj.target;\r\n            _this.segments = obj.segments;\r\n            _this.extra = obj.extra;\r\n        };\r\n        this.id = id;\r\n        this.rootStore = rootStore;\r\n        makeAutoObservable(this, { rootStore: false });\r\n    }\r\n    Object.defineProperty(LinkState.prototype, \"path\", {\r\n        get: function () {\r\n            var linksSettings = this.rootStore.linksSettings;\r\n            return linksSettings.pathConstructor(this.sourcePoint, this.targetPoint);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LinkState.prototype, \"sourcePoint\", {\r\n        get: function () {\r\n            return this.getEndpointPoint(this.source);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LinkState.prototype, \"targetPoint\", {\r\n        get: function () {\r\n            return this.getEndpointPoint(this.target);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LinkState.prototype, \"componentDefinition\", {\r\n        get: function () {\r\n            var visualComponents = this.rootStore.linksSettings.visualComponents;\r\n            return visualComponents.getComponent(this.componentType);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    LinkState.prototype.getEndpointPoint = function (endpoint) {\r\n        if ('nodeId' in endpoint) {\r\n            return this.getEndpointPointForNode(endpoint);\r\n        }\r\n        else {\r\n            return endpoint.position;\r\n        }\r\n    };\r\n    LinkState.prototype.getEndpointPointForNode = function (endpoint) {\r\n        var _a;\r\n        var node = this.rootStore.nodesStore.nodes[endpoint.nodeId];\r\n        var htmlElem = (_a = node === null || node === void 0 ? void 0 : node.ref) === null || _a === void 0 ? void 0 : _a.current;\r\n        if (htmlElem) {\r\n            return [\r\n                node.offset[0] +\r\n                    (htmlElem.clientWidth ? htmlElem.clientWidth / 2 : 0),\r\n                node.offset[1] +\r\n                    (htmlElem.clientHeight ? htmlElem.clientHeight / 2 : 0),\r\n            ];\r\n        }\r\n        else {\r\n            return node.offset;\r\n        }\r\n    };\r\n    return LinkState;\r\n}());\r\nexport { LinkState };\r\n//# sourceMappingURL=linkState.js.map","import { makeAutoObservable } from 'mobx';\r\nimport { v4 } from 'uuid';\r\nimport { LinkState } from './linkState';\r\nvar LinksStore = /** @class */ (function () {\r\n    function LinksStore(rootStore) {\r\n        var _this = this;\r\n        this.links = {};\r\n        this.fromJson = function (newLinks) {\r\n            _this.links = {};\r\n            if (newLinks) {\r\n                newLinks.forEach(function (linkState) {\r\n                    var newLink = new LinkState(_this.rootStore, linkState.id);\r\n                    newLink.fromJson(linkState);\r\n                    _this.links[newLink.id] = newLink;\r\n                });\r\n            }\r\n        };\r\n        this.addLink = function (link) {\r\n            var _a;\r\n            var id = (_a = link.id) !== null && _a !== void 0 ? _a : v4();\r\n            if (!_this.links[id]) {\r\n                _this.links[id] = new LinkState(_this.rootStore, id);\r\n            }\r\n            _this.links[id].fromJson(link);\r\n        };\r\n        this.rootStore = rootStore;\r\n        makeAutoObservable(this, { rootStore: false });\r\n    }\r\n    return LinksStore;\r\n}());\r\nexport { LinksStore };\r\n//# sourceMappingURL=linksStore.js.map","import React from 'react';\r\nexport var NodeDefault = function (_a) {\r\n    var entity = _a.entity, settings = _a.settings, draggableRef = _a.draggableRef;\r\n    return (React.createElement(\"div\", { ref: draggableRef, className: 'react_fast_diagram_Node_Default', style: settings === null || settings === void 0 ? void 0 : settings.style },\r\n        React.createElement(\"span\", null, entity.id)));\r\n};\r\nexport function createNodeDefault(settings) {\r\n    return {\r\n        component: NodeDefault,\r\n        settings: settings,\r\n    };\r\n}\r\n// export const NodeDefault = forwardRef<\r\n//   HTMLDivElement,\r\n//   IComponentProps<NodeState, INodeDefaultSettings>\r\n// >(observable(() => {\r\n//# sourceMappingURL=NodeDefault.js.map","import { makeAutoObservable } from 'mobx';\r\nimport { NodeDefault } from '../components/NodeDefault';\r\nimport { VisualComponents, } from './visualComponents';\r\nvar NodesSettings = /** @class */ (function () {\r\n    function NodesSettings() {\r\n        var _this = this;\r\n        this.visualComponents = new VisualComponents(NodeDefault);\r\n        this.fromJson = function (obj) {\r\n            _this.visualComponents.fromJson(obj);\r\n        };\r\n        makeAutoObservable(this);\r\n    }\r\n    return NodesSettings;\r\n}());\r\nexport { NodesSettings };\r\n//# sourceMappingURL=nodesSettingsState.js.map","import { componentDefaultType } from '../types/common';\r\nimport { v4 } from 'uuid';\r\nimport { makeAutoObservable } from 'mobx';\r\nvar PortState = /** @class */ (function () {\r\n    function PortState(id) {\r\n        var _this = this;\r\n        if (id === void 0) { id = v4(); }\r\n        this.fromJson = function (obj) {\r\n            var _a;\r\n            _this.type = (_a = obj.type) !== null && _a !== void 0 ? _a : componentDefaultType;\r\n            _this.label = obj.label;\r\n        };\r\n        this.id = id;\r\n        makeAutoObservable(this);\r\n    }\r\n    return PortState;\r\n}());\r\nexport { PortState };\r\n//# sourceMappingURL=portState.js.map","import { componentDefaultType } from '../types/common';\r\nimport { makeAutoObservable } from 'mobx';\r\nimport { PortState } from './portState';\r\nimport { v4 } from 'uuid';\r\nimport { generateTransform } from '../utils';\r\nvar MutableRefState = /** @class */ (function () {\r\n    function MutableRefState(initValue) {\r\n        this.currentInternal = initValue;\r\n        makeAutoObservable(this);\r\n    }\r\n    Object.defineProperty(MutableRefState.prototype, \"current\", {\r\n        get: function () {\r\n            return this.currentInternal;\r\n        },\r\n        set: function (value) {\r\n            this.currentInternal = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return MutableRefState;\r\n}());\r\nexport { MutableRefState };\r\nvar NodeState = /** @class */ (function () {\r\n    function NodeState(rootStore, id) {\r\n        var _this = this;\r\n        if (id === void 0) { id = v4(); }\r\n        this.id = '';\r\n        this.offset = [0, 0];\r\n        this.ports = {};\r\n        this.ref = new MutableRefState(null);\r\n        this.componentType = componentDefaultType;\r\n        this.extra = null;\r\n        this.setOffset = function (newOffset) {\r\n            _this.offset = newOffset;\r\n        };\r\n        this.fromJson = function (obj) {\r\n            var _a;\r\n            _this.offset = obj.position;\r\n            _this.componentType = (_a = obj.componentType) !== null && _a !== void 0 ? _a : componentDefaultType;\r\n            _this.extra = obj.extra;\r\n            _this.ports = {};\r\n            if (obj.ports && Object.keys(obj.ports).length > 0) {\r\n                Object.entries(obj.ports).forEach(function (_a) {\r\n                    var portId = _a[0], portObj = _a[1];\r\n                    var portState = new PortState(portId);\r\n                    portState.fromJson(portObj);\r\n                    _this.ports[portId] = portState;\r\n                });\r\n            }\r\n        };\r\n        this.id = id;\r\n        makeAutoObservable(this);\r\n        this.rootStore = rootStore;\r\n    }\r\n    Object.defineProperty(NodeState.prototype, \"transformString\", {\r\n        get: function () {\r\n            return generateTransform(this.offset);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(NodeState.prototype, \"componentDefinition\", {\r\n        get: function () {\r\n            var visualComponents = this.rootStore.nodesSettings.visualComponents;\r\n            return visualComponents.getComponent(this.componentType);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return NodeState;\r\n}());\r\nexport { NodeState };\r\n//# sourceMappingURL=nodeState.js.map","import { makeAutoObservable } from 'mobx';\r\nimport { NodeState } from './nodeState';\r\nimport { v4 } from 'uuid';\r\nvar NodesStore = /** @class */ (function () {\r\n    function NodesStore(rootStore) {\r\n        var _this = this;\r\n        this.nodes = {};\r\n        this.fromJson = function (newNodes) {\r\n            _this.nodes = {};\r\n            if (newNodes) {\r\n                newNodes.forEach(function (node) {\r\n                    var newNode = new NodeState(_this.rootStore, node.id);\r\n                    newNode.fromJson(node);\r\n                    _this.nodes[newNode.id] = newNode;\r\n                });\r\n            }\r\n        };\r\n        this.addNode = function (node) {\r\n            var _a;\r\n            var id = (_a = node.id) !== null && _a !== void 0 ? _a : v4();\r\n            if (!_this.nodes[id]) {\r\n                _this.nodes[id] = new NodeState(_this.rootStore, id);\r\n            }\r\n            _this.nodes[id].fromJson(node);\r\n        };\r\n        makeAutoObservable(this);\r\n        this.rootStore = rootStore;\r\n    }\r\n    return NodesStore;\r\n}());\r\nexport { NodesStore };\r\n//# sourceMappingURL=nodesStore.js.map","import { DiagramApi } from './diagramApi';\r\nimport { DiagramState } from './diagramState';\r\nimport { LinksSettings } from './linksSettingsState';\r\nimport { LinksStore } from './linksStore';\r\nimport { NodesSettings } from './nodesSettingsState';\r\nimport { NodesStore } from './nodesStore';\r\nvar RootStore = /** @class */ (function () {\r\n    function RootStore() {\r\n        this.diagramState = new DiagramState(this);\r\n        this.nodesStore = new NodesStore(this);\r\n        this.nodesSettings = new NodesSettings();\r\n        this.linksStore = new LinksStore(this);\r\n        this.linksSettings = new LinksSettings();\r\n        this.diagramApi = new DiagramApi(this);\r\n    }\r\n    return RootStore;\r\n}());\r\nexport { RootStore };\r\n//# sourceMappingURL=rootStore.js.map","import React, { useEffect, useMemo } from 'react';\r\nimport { InnerDiagram } from './DiagramInner';\r\nimport '../Diagram.css';\r\nimport { RootStore } from '../states/rootStore';\r\nexport var RootStoreContext = React.createContext(null);\r\nexport var Diagram = function (props) {\r\n    var rootStore = useMemo(function () {\r\n        var _a, _b, _c, _d;\r\n        var store = new RootStore();\r\n        store.diagramApi.reinitState((_b = (_a = props.initState) === null || _a === void 0 ? void 0 : _a.nodes) !== null && _b !== void 0 ? _b : [], (_d = (_c = props.initState) === null || _c === void 0 ? void 0 : _c.links) !== null && _d !== void 0 ? _d : []);\r\n        props.settings && store.diagramApi.reinitSettings(props.settings);\r\n        return store;\r\n    }, []);\r\n    useEffect(function () {\r\n        if (props.apiRef) {\r\n            props.apiRef.current = rootStore.diagramApi;\r\n        }\r\n    }, [rootStore, props.apiRef]);\r\n    return (React.createElement(RootStoreContext.Provider, { value: rootStore },\r\n        React.createElement(InnerDiagram, null)));\r\n};\r\nDiagram.displayName = 'Diagram';\r\n//# sourceMappingURL=Diagram.js.map","export var libraryPrefix = 'reactEasyDiagram';\r\n//# sourceMappingURL=common.js.map","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Tune } from '@material-ui/icons';\r\nimport Card from '@material-ui/core/Card';\r\nimport { Box, Button, TextField, Typography } from '@material-ui/core';\r\nimport { IDiagramInitState, ILinkState, INodeState } from '@react-easy-diagram/core';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '7px',\r\n  },\r\n  visibilityBtn: {\r\n    borderRadius: '25px',\r\n    minWidth: '24px',\r\n    padding: '8px 8px',\r\n    backgroundColor: 'white',\r\n  },\r\n  header: {\r\n    marginBottom: '15px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '14px',\r\n  },\r\n}));\r\n\r\nconst generateLargeDiagram = (colNum: number, rowNum: number): IDiagramInitState => {\r\n  const nodes : INodeState[] = [];\r\n  const links : ILinkState[] = [];\r\n  const getNodeId = (i: number,j: number) => `node_${i}_${j}`;\r\n\r\n  for (let i = 0; i < colNum; i++) {\r\n    for (let j = 0; j < rowNum; j++) {\r\n      nodes.push({\r\n        id: getNodeId(i,j),\r\n        position: [i * 120, j * 120 ],\r\n      });\r\n      if (i - 1 >= 0) {\r\n        links.push({\r\n          source: {\r\n            nodeId: getNodeId(i - 1,j)\r\n          },\r\n          target: {\r\n            nodeId: getNodeId(i,j)\r\n          }\r\n        });\r\n      }\r\n      if (j - 1 >= 0) {\r\n        links.push({\r\n          source: {\r\n            nodeId: getNodeId(i,j - 1)\r\n          },\r\n          target: {\r\n            nodeId: getNodeId(i,j)\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  return {nodes,links};\r\n};\r\n\r\nexport interface ControlPanelProps{\r\n  reinitState?(nodes: INodeState[], links: ILinkState[]): void;\r\n}\r\n\r\nexport const ControlPanel = (props: ControlPanelProps) => {\r\n  const classes = useStyles();\r\n\r\n  const [row, setRow] = useState(10);\r\n  const [col, setCol] = useState(10);\r\n\r\n  const [visible, setVisible] = useState(true);\r\n\r\n  const onFormSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (props.reinitState) {\r\n      const newState = generateLargeDiagram(row, col);\r\n      props.reinitState(newState.nodes, newState.links);\r\n    }\r\n  };\r\n\r\n  if (visible) {\r\n    return (\r\n      <Box padding={3} clone>\r\n        <Card>\r\n          <div className={classes.header}>\r\n            <Button\r\n              className={classes.visibilityBtn}\r\n              variant='outlined'\r\n              aria-label='control-panel'\r\n              onClick={() => setVisible(false)}\r\n            >\r\n              <Tune />\r\n            </Button>\r\n            <Typography variant='h5'>Control Panel</Typography>\r\n          </div>\r\n          <form\r\n            className={classes.form}\r\n            noValidate\r\n            autoComplete='off'\r\n            onSubmit={onFormSubmit}\r\n          >\r\n            <TextField\r\n              id='rows'\r\n              value={row}\r\n              type='number'\r\n              label='Rows'\r\n              variant='outlined'\r\n              onChange={(e) => setRow(parseInt(e.target.value))}\r\n            />\r\n            <TextField\r\n              id='columns'\r\n              value={col}\r\n              type='number'\r\n              label='Columns'\r\n              variant='outlined'\r\n              onChange={(e) => setCol(parseInt(e.target.value))}\r\n            />\r\n            <Button variant='contained' type='submit'>\r\n              Generate new Diagram\r\n            </Button>\r\n          </form>\r\n        </Card>\r\n      </Box>\r\n    );\r\n  } else {\r\n    return (\r\n      <Button\r\n        variant='outlined'\r\n        className={classes.visibilityBtn}\r\n        aria-label='control-panel'\r\n        onClick={() => setVisible(true)}\r\n      >\r\n        <Tune />\r\n      </Button>\r\n    );\r\n  }\r\n};\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { createCurvedLinkPathConstructor, createLinkDefault, IDiagramInitState, useDiagram } from '@react-easy-diagram/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Box } from '@material-ui/core';\r\nimport { ControlPanel } from './ControlPanel';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  diagram: {\r\n    height: '100vh',\r\n    width: '100vw',\r\n    backgroundColor: '#dbdbdb',\r\n    backgroundImage:\r\n      \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.3'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\\\")\",\r\n  },\r\n  controlPanel: {\r\n    position: 'absolute',\r\n    top: '20px',\r\n    left: '20px',\r\n  },\r\n}));\r\n\r\nexport const App = () => {\r\n  const classes = useStyles();\r\n  const { Diagram, apiRef } = useDiagram(initState, {\r\n    links: {\r\n      components: {\r\n        default: createLinkDefault(),\r\n        attention: createLinkDefault({color: 'red'})\r\n      },\r\n      pathConstructor: createCurvedLinkPathConstructor()\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Box className={classes.diagram}>\r\n      <Diagram />\r\n      <Box className={classes.controlPanel}>\r\n        <ControlPanel reinitState={apiRef.current?.reinitState} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst initState: IDiagramInitState = {\r\n  nodes: [\r\n    {\r\n      id: 'Node 1',\r\n      position: [300, 300],\r\n    },\r\n    {\r\n      id: 'Node 2',\r\n      position: [520, 400],\r\n    },\r\n    {\r\n      id: 'Node 3',\r\n      position: [520, 200],\r\n    },\r\n  ],\r\n  links: [\r\n    {\r\n      source: {\r\n        nodeId: 'Node 2',\r\n      },\r\n      target: {\r\n        nodeId: 'Node 1',\r\n      },\r\n      componentType: 'attention',\r\n    },\r\n    {\r\n      source: {\r\n        nodeId: 'Node 2',\r\n      },\r\n      target: {\r\n        nodeId: 'Node 3',\r\n      },\r\n    },\r\n  ],\r\n};\r\n","import React, { useMemo } from 'react';\r\nimport { Diagram } from '../components/Diagram';\r\nimport { useNotifyRef } from './useNotifyRef';\r\nexport var useDiagram = function (initState, settings) {\r\n    var apiRef = useNotifyRef(null);\r\n    var obj = useMemo(function () { return ({\r\n        Diagram: function () { return (React.createElement(Diagram, { apiRef: apiRef, initState: initState, settings: settings })); },\r\n        apiRef: apiRef,\r\n    }); }, []);\r\n    return obj;\r\n};\r\n//# sourceMappingURL=useDiagram.js.map","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}