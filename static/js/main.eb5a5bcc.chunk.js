(this["webpackJsonpreact-easy-diagram-example"]=this["webpackJsonpreact-easy-diagram-example"]||[]).push([[0],{61:function(e,t,a){e.exports=a(81)},68:function(e,t,a){},69:function(e,t,a){},77:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),v=a(8),i=a.n(v),h=(a(68),a(69),a(11)),o=a(40),l=Object(h.b)({key:"nodesIds",default:[]}),c=Object(h.c)({key:"node",default:function(e){return{id:e,position:{x:0,y:0}}}}),u=Object(h.b)({key:"diagramTranslate",default:{x:0,y:0}}),m=Object(h.b)({key:"diagramScale",default:1}),s=r.a.memo((function(){return r.a.createElement("div",null)}));function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var f=r.a.memo((function(e){var t=Object(h.e)(c(e.id)),a=t[0],n=t[1],v=Object(h.d)((function(e){var t=e.snapshot;return function(){var e=t.getLoadable(m).contents;return"number"===typeof e?e:1}}));return r.a.createElement(o.DraggableCore,{onStart:function(e){return e.stopPropagation()},onStop:function(e){return e.stopPropagation()},onDrag:function(e,t){e.stopPropagation();var a=v();n((function(e){return d({},e,{position:{x:e.position.x+t.deltaX/a,y:e.position.y-t.deltaY/a}})}))}},r.a.createElement("div",{style:{width:"100px",height:"100px",backgroundColor:"white",border:"2px solid WhiteSmoke",position:"absolute",bottom:a.position.y,left:a.position.x,display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("div",{style:{textAlign:"center",margin:"auto"}},e.id)))})),p=r.a.memo((function(){var e=Object(h.e)(l)[0];return r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(f,{key:e,id:e})})))})),g="_HwoTi",z="_2c9oQ",b=Object(n.forwardRef)((function(e,t){var a=Object(h.e)(u),v=a[0],i=a[1],d=Object(h.e)(m),f=d[0],b=d[1],y=Object(n.useRef)(null),E=Object(h.d)((function(e){var t=e.set;return function(e){console.log(e),t(c(e.id),e),t(l,(function(t){return t.concat([e.id])}))}})),x=Object(h.d)((function(e){var t=e.set,a=e.reset,n=e.snapshot;return function(e){console.log("ReinitState");var r=n.getLoadable(l).contents;Array.isArray(r)&&r.forEach((function(e){return a(c(e))})),t(l,e.map((function(e){return e.id}))),e.forEach((function(e){return t(c(e.id),e)}))}}));Object(n.useImperativeHandle)(t,(function(){return{addNode:E,reinitState:x}}),[]);var O=function(e,t){var a="scale("+t+")";return"translate("+e.x+"px, "+e.y+"px)"+" "+a}(v,f);return r.a.createElement(o.DraggableCore,{onDrag:function(e,t){i((function(e){return{x:e.x+t.deltaX,y:e.y+t.deltaY}}))}},r.a.createElement("div",{ref:y,onWheel:function(e){var t=function(e,t,a,n){var r=null===e||void 0===e?void 0:e.getBoundingClientRect();if(!r)return null;var v=t.pageX-r.left,i=t.pageY-r.top,h=.9;t.deltaY<0&&(h=1/h);var o=(v-a.x)*(h-1),l=(i-a.y)*(h-1);return{scale:n*h,translate:{x:a.x-o,y:a.y-l}}}(y.current,e,v,f);t&&(i(t.translate),b(t.scale))},className:g},r.a.createElement("div",{className:z,style:{transform:O}},r.a.createElement(s,null),r.a.createElement(p,null))))}));b.displayName="InnerDiagram";var y=Object(n.forwardRef)((function(e,t){return r.a.createElement(h.a,{initializeState:function(t){return function(e,t){t.initialState&&(t.initialState.forEach((function(t){e.set(c(t.id),t)})),e.set(l,t.initialState.map((function(e){return e.id}))))}(t,e)}},r.a.createElement(b,{ref:t}))}));y.displayName="Diagram";a(77);var E=a(108),x=a(115),O=a(4),j=a(117),S=a(110),C=a(116),w=a(113),k=a(114),H=Object(E.a)((function(){return{form:{display:"flex",flexDirection:"column",gap:"7px"},visibilityBtn:{borderRadius:"25px",minWidth:"24px",padding:"8px 8px",backgroundColor:"white"},header:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"14px"}}})),N=function(e){var t=H(),a=Object(n.useState)(10),v=Object(O.a)(a,2),i=v[0],h=v[1],o=Object(n.useState)(10),l=Object(O.a)(o,2),c=l[0],u=l[1],m=Object(n.useState)(!0),s=Object(O.a)(m,2),d=s[0],f=s[1];return d?r.a.createElement(x.a,{padding:3,clone:!0},r.a.createElement(S.a,null,r.a.createElement("div",{className:t.header},r.a.createElement(C.a,{className:t.visibilityBtn,variant:"outlined","aria-label":"control-panel",onClick:function(){return f(!1)}},r.a.createElement(j.a,null)),r.a.createElement(w.a,{variant:"h5"},"Control Panel")),r.a.createElement("form",{className:t.form,noValidate:!0,autoComplete:"off",onSubmit:function(t){e.reinitState?(console.log("generateLargeDiagram"),e.reinitState(function(e,t){for(var a=[],n=0;n<e;n++)for(var r=0;r<t;r++)a.push({id:"node_".concat(n,"_").concat(r),position:{x:120*n,y:120*r}});return a}(i,c))):console.log("generateLargeDiagram reinitState is undefined"),t.preventDefault(),t.stopPropagation()}},r.a.createElement(k.a,{id:"rows",value:i,type:"number",label:"Rows",variant:"outlined",onChange:function(e){return h(parseInt(e.target.value))}}),r.a.createElement(k.a,{id:"columns",value:c,type:"number",label:"Columns",variant:"outlined",onChange:function(e){return u(parseInt(e.target.value))}}),r.a.createElement(C.a,{variant:"contained",type:"submit"},"Generate new Diagram")))):r.a.createElement(C.a,{variant:"outlined",className:t.visibilityBtn,"aria-label":"control-panel",onClick:function(){return f(!0)}},r.a.createElement(j.a,null))},V=Object(E.a)((function(){return{diagram:{height:"100vh",width:"100vw",backgroundColor:"#dbdbdb",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.3'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"},controlPanel:{position:"absolute",top:"20px",left:"20px"}}})),D=function(){var e,t=V(),a=function(){var e=Object(n.useState)(0)[1],t=Object(n.useState)((function(){return{value:void 0,facade:{get current(){return t.value},set current(a){t.value!==a&&(t.value=a,console.log("Force update"),e((function(e){return e+1})))}}}}))[0];return console.log("Facade is "+t.facade),t.facade}();return r.a.createElement(x.a,{className:t.diagram},r.a.createElement(y,{ref:a,initialState:I}),r.a.createElement(x.a,{className:t.controlPanel},r.a.createElement(N,{reinitState:null===(e=a.current)||void 0===e?void 0:e.reinitState})))},I=[{id:"Node 1",position:{x:300,y:300}},{id:"Node 2",position:{x:520,y:400}},{id:"Node 3",position:{x:520,y:200}}];i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.eb5a5bcc.chunk.js.map